// COPYRIGHT Dassault Systemes 2009
//===================================================================
//
// CHandleString.h
// Header definition of CHandleString
//
//===================================================================
//
// Usage notes:
//
//===================================================================
//
//  Dec 2009  Creation: Code generated by the CAA wizard  ev5adm
//===================================================================
#ifndef CHandleString_H
#define CHandleString_H

#include "ktPubHeaders.h"

#include "ktStrLogService.h"
#include "CATBaseUnknown.h"
#include "CATListOfCATUnicodeString.h"
#include "CATTime.h"
#include "CATUnicodeString.h"

#include <time.h>
#include <stddef.h>

#include <iostream.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>
#include <fstream.h>
#include "atlstr.h"
using namespace std;
//-----------------------------------------------------------------------

/**
* Class representing xxx.
*
* <br><b>Role</b>: Provide the basic class function...
* <p>
* Do not use the @href CHandleString constructor to
* do such and such but instead...
*
* @example
*  // example is optional
*  pObject = new CHandleString;
*  pObject->SetXXX(...);
*
* @href ClassReference, Class#MethodReference, #InternalMethod...
*/
class ExportedByktStrLogService CHandleString: public CATBaseUnknown
{
  CATDeclareClass;

  public:

  // Standard constructors and destructors
  // -------------------------------------
     CHandleString ();
     virtual ~CHandleString ();

	// Copy constructor and equal operator
	// -----------------------------------
	CHandleString (CHandleString &);
	CHandleString& operator=(CHandleString&);

	static HRESULT GetValuesFromString(const CATUnicodeString & iLineString,CATLISTV(CATUnicodeString) & oFieldList);
	static char*   StrToUpper( char* strx );
	static int     rmStrSpace(char* str);
	static void    VerString(char* str);
	static void    myGetTime(char* str);
	static void    myGetTime2(char* str);
	static void    GetTime(char* str) ; 
	static char*   slashConvert(char* str) ;

	static HRESULT ConvertStringTimeToCATTime(CATUnicodeString uTime, CATTime &tTime);
	static CATUnicodeString StringByReplaceChar(CATUnicodeString uString,int FileNameOrDirName);

	static HRESULT Split(const CATUnicodeString uInput,const CATUnicodeString uSplitter, CATListOfCATUnicodeString &listOutput);
	static bool EachCharIsNum(CATUnicodeString  Section);
	static bool EachCharIsChar(CATUnicodeString  Section) ;

  //**********************************************************************************************************************************************************************************************************************************************************
  //字符串转换操作
  //**********************************************************************************************************************************************************************************************************************************************************
  //字符串转换函数
  static CATUnicodeString CStringToUS(CString iCString);
  static CString USToCString(CATUnicodeString iUString);

  //以特定字符拆分字符串，前后模式，例如“< >”
  //使用时，自动排除"//"、"#"注释行，但需要用户判断oStrVector的Size 大于 0
  static HRESULT ParseStringByFBToken(const CATUnicodeString &iStr,const CATUnicodeString &iFrontToken,const CATUnicodeString &iBackToken,CATLISTV(CATUnicodeString) &oStrVector);

  //以特定字符拆分字符串，空格模式
  static HRESULT StringToVector(const CATUnicodeString &iStr,const CATUnicodeString &iToken,CATLISTV(CATUnicodeString) &oStrVector);

  //造UUID
  static BOOL CreateGUID(CATUnicodeString &strGUID);
	
};

//-----------------------------------------------------------------------

#endif
